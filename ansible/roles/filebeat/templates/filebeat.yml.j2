filebeat.inputs:
  - type: log
    enabled: true
    paths:
{% for path in filebeat_log_paths %}
      - {{ path }}
{% endfor %}
    fields:
      service: nginx
    fields_under_root: true

output.elasticsearch:
  hosts: ["{{ hostvars['elasticsearch']['ansible_host'] | default('elasticsearch') }}:9200"]
  protocol: "http"
  index: "filebeat-%{+yyyy.MM.dd}"

setup.template.enabled: false

logging.level: info
logging.to_files: true
logging.files:
  rotateeverybytes: 10485760
  keepfiles: 7
